<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="forth.css" type="text/css">
<title>Оконная библиотека: общие элементы управления</title>
</head>

<body background="pic/grid.gif">

<h1 class=lib><u>wincc.f</u>
&nbsp;Оконная библиотека: общие элементы управления
</h1>

<br><a href="#progress">1. Индикатор</a>
<br><a href="#trackbar">2. Ползунки</a>
<br><a href="#spin">3. Спины</a>
<br><a href="#anime">4. Анимация</a>
<br><a href="#calendar">5. Календарь</a>
<br><a href="#tooltip">6. Всплывающие подсказки</a>
<br><a href="#container">7. Общие свойства контейнеров</a>
<br><a href="#header">8. Заголовки</a>
<br><a href="#tab">9. Закладки</a>
<br><a href="#toolbar">10. Панели инструментов</a>
<br><a href="#tree">11. Деревья</a>
<br><a href="#listview">12. Списки иконок</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#lvcolumns">Колонки</a>
</p>

<br><br>В третьей части оконной библиотеки собраны так называемые общие элементы
управления - элементы, введенные в Windows 95 и более поздних версиях.
Третью часть можно считать незаконченной, поскольку степень проработки
различных элементов сильно различается. Некоторые элементы не реализованы
вообще (ipcontrol, rebar, richedit, pager), другие - с разной степенью
полноты. Сделано это было из-за большой сложности многих элементов и изобилия их возможностей.
Предполагается, что опыт практической работы подскажет, что именно стоит
добавить в эту часть библиотеки.

<br>
<a name="progress"></a><h1>1. Индикатор</h1>

<u>progress</u> <i>( -- ctl )</i>
<p>Создать индикатор и установить ему пределы от 0 до 100.
</p>

<u>progress-minmax</u> <i>( min max ctl -- )</i>
<p>Установить нижний и верхний предел для индикатора.
</p>

<u>+pos!</u> <i>( n ctl -- )</i>
<p>Продвинуть индикатор на <i>n</i> единиц.
</p>

<br>
<a name="trackbar"></a><h1>2. Ползунки</h1>

<u>trackbar</u> <i>( style -- ctl )</i>
<p>Создать ползунок указанного стиля. По умолчанию устанавливаются пределы
от 0 до 100. У ползунка работают стандартные свойства <i>-pos</i>
(позиция), <i>-min</i>, <i>-max</i> (нижний и верхний пределы).
</p>

<table class=st>
<tr><th class=st colspan=2>Стили ползунков
<tr><td class=st1def>tbs_horz<td class=st2>
Горизонтальный ползунок
<tr><td class=st1>tbs_vert<td class=st2>
Вертикальный ползунок
<tr><td class=st1>tbs_autoticks<td class=st2>
Будут автоматически проставлены отметки
<tr><td class=st1>tbs_noticks<td class=st2>
Отметок не будет
<tr><td class=st1>tbs_top<td class=st2>
Отметки сверху (для горизонтальных ползунков)
<tr><td class=st1def>tbs_bottom<td class=st2>
Отметки снизу (для вертикальных ползунков)
<tr><td class=st1>tbs_left<td class=st2>
Отметки слева (для горизонтальных ползунков)
<tr><td class=st1def>tbs_right<td class=st2>
Отметки справа (для горизонтальных ползунков)
<tr><td class=st1>tbs_enableselrange<td class=st2>
Можно будет выбирать не одну отметку, а целый диапазон
<tr><td class=st1>tbs_fixedlength<td class=st2>
Размер бегунка не будет меняться
<tr><td class=st1>tbs_nothumb<td class=st2>
Бегунок не будет показан вообще
</table>

<br>
<a name="spin"></a><h1>3. Спины</h1>

<u>updown</u> <i>( style -- ctl )</i>
<p>Создать спин указанного стиля с пределами 0..100. У спина работают
стандартные свойства <i>-pos</i>
(позиция), <i>-min</i>, <i>-max</i> (нижний и верхний пределы).
</p>

<u>add-updown</u> <i>( style ctl -- )</i>
<p>Добавляет спин-симбионт указанного стиля к элементу управления. Размер элемента остается
тем же, но рабочая область сокращается за счет спина. Спин посылает
элементу уведомляющие сообщения.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили спинов
<tr><td class=st1>uds_alignleft<td class=st2>
Спин расположен в окне хозяина слева
<tr><td class=st1def>uds_alignright<td class=st2>
Спин расположен в окне хозяина справа
<tr><td class=st1>uds_setbuddyint<td class=st2>
Спин будет сам менять заголовок своего хозяина, указывая свою текущую
позицию
<tr><td class=st1>uds_nothousands<td class=st2>
В заголовке хозяина тысячи не будут разделяться.
<tr><td class=st1>uds_arrowkeys<td class=st2>
Спин будет обрабатывать клавиши "стрелка вверх" и "стрелка вниз"
<tr><td class=st1>uds_horz<td class=st2>
Горизонтальный спин
<tr><td class=st1>uds_wrap<td class=st2>
При достижении верхнего предела спин будет перескакивать на нижний и
наоборот
</table>

<br>
<a name="anime"></a><h1>4. Анимация</h1>

<u>anime</u> <i>( z/n -- ctl )</i>
<p>Создать элемент-анимацию. Входной аргумент может быть именем файла в
формате .AVI, именем или номером ресурса.
</p>

<u>start-anime</u> <i>( ctl -- )</i>
<p>Запустить анимацию.
</p>

<u>stop-anime</u> <i>( ctl -- )</i>
<p>Остановить анимацию.
</p>

<br>
<a name="calendar"></a><h1>5. Календарь</h1>

<u>calendar</u> <i>( style -- ctl)</i>
<p>Создать календарь указанного стиля. Помимо стандартных свойств
<i>-color</i>, <i>-bgcolor</i>, <i>-font</i> работает также свойство
<i>-selected</i>. Свойство <i>-command</i> вызывается при выборе одного из
дней (сообщение mcn_select).
<table class=win><tr><td width=5%><img src="pic/win.gif"><td>
Календарь не работает в Windows ниже 98.
</table>
</p>

<table class=st>
<tr><th class=st colspan=2>Стили календаря
<tr><td class=st1>mcs_daystate<td class=st2>
Календарь будет запрашивать информацию о выделенных днях через сообщение
mcn_getdaystate
<tr><td class=st1>mcs_multiselect<td class=st2>
Можно будет выбирать не один день, а целый промежуток
<tr><td class=st1>mcs_notoday<td class=st2>
Календарь не будет показывать внизу сегодняшний день
<tr><td class=st1>mcs_notodaycircle<td class=st2>
Сегодняшний день не будет обведен кружком
<tr><td class=st1>mcs_weeknumbers<td class=st2>
Дополнительно будут показаны номера недель
</table>

<br>
<a name="tooltip"></a><h1>6. Всплывающие подсказки</h1>

<u>create-tooltip</u> <i>( style -- )</i>
<p>Создает элемент-всплывающую подсказку, общую для всей программы.
Подсказка индивидуальным элементам присваивается (и читается) через
свойство <i>-tooltip</i>.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили подсказок
<tr><td class=st1>tts_alwaystip<td class=st2>
Подсказка будет появляться, даже если элемент неактивен.
<tr><td class=st1>tts_noprefix<td class=st2>
Из подсказки будут выкидываться символы амперсанда "&"
<tr><td class=st1>tts_noanimate<td class=st2>
Подсказка появится без анимационных эффектов
<tr><td class=st1>tts_balloon<td class=st2>
Всплывающая подсказка будет не квадратной, а специальной формы: похожая на
рамку, в которую на карикатурах обычно вписывают текст персонажа
</table>
<br>

<u>set-tooltip-delay</u> <i>( initial autopop reshow tooltip -- )</i>
<p>
Установить время задержки для всплывающей подсказки (в миллисекундах):
<br><i>initial</i> - сколько ждать перед "всплытием" если курсор пришёл с пустого места
<br><i>autopop</i> - сколько времени висеть, пока курсор внутри контрола
<br><i>reshow</i> - сколько ждать перед "всплытием" если курсор движется по контролам
</p>
<p>
По умолчанию t, 10*t, t/5, где t - время даблклика.
Чтобы сбросить значение в дефолтное - установите -1.
</p>

<div class=eg>
<tt>
0 create-tooltip
<br>75 3000 30 common-tooltip set-tooltip-delay
<br>GRID
<br>" Кнопка" button (/ -tooltip " Подсказка для кнопки" /) |
<br>" Метка" label (/ -tooltip " Подсказка для метки" /) |
<br>GRID;
</tt>
</div>

<table class=win><tr><td width=5%><img src="pic/win.gif"><td>
В Windows ниже XP подсказки на полях ввода почему-то не всплывают.
</table>
</p>

<br>
<a name="container"></a><h1>7. Общие свойства контейнеров</h1>

Оставшиеся элементы управления объединены под общим именем контейнеров.
Они обычно содержат какие-то подъэлементы, которые, собственно, и
представляют интерес. Для подъэлемента типично иметь свой текст, картинку
(иногда даже не одну), собственные установки и произвольный параметр,
устанавливаемый программистом для хранения связанных с подъэлементом
данных. Картинки, как правило, определяются в виде индексов в связанном с
контейнером списком картинок, однако возможно также указание констант
<u>none</u> (нет картинки) и <u>callback</u> (каждый раз запрашивать
картинку через соответствующее уведомление; работает не во всех элементах управления).
Аналогично, если у подъэлемента нету текста, следует указывать константу
<u>none</u>.
<br><br>
Кроме того, все контейнеры поддерживают три стандартных операции: добавить
подъэлемент, удалить подъэлемент, вернуть число подъэлементов.
</p>
<br><br>

<i>-imagelist</i>
<p>Список картинок, присвоенный контейнеру. Чтение и запись осуществляются
следующим образом: <u>-imagelist@</u> <i>( what ctl -- )</i>,
<u>-imagelist!</u> <i>( i what ctl -- )</i>. Параметр <i>what</i> - код
списка картинок, зависящий от конкретного элемента управления. Например,
для закладок он всегда равен 0, поскольку у закладок только один список.
У панелей управления есть три разных списка - 0, 1, 2.
</p>



<i>-iwidth</i>, <i>-iheight</i>
<p>Ширина и высота подъэлемента.
</p>

<i>-iflags</i>
<p>Флаги подъэлемента.
</p>

<i>-itext</i>
<p>Текст, присвоенный подъэлементу.
</p>

<i>-iimage</i>
<p>Рисунок подъэлемента.
</p>

<i>-iparam</i>
<p>Параметр подъэлемента.
</p>

<u>add-item</u> <i>( ... n ctl -- )</i>
<p>Добавляет к контейнеру <i>ctl</i> подъэлемент с кодом <i>n</i>.
Параметры подъэлемента и код зависят от типа контейнера.
</p>

<u>delete-item</u> <i>( i ctl -- )</i>
<p>Удаляет подъэлемент <i>i</i> из контейнера.
</p>

<u>item-count</u> <i>( ctl -- n)</i>
<p>Возвращает число подъэлементов в контейнере.
</p>

<br>
<a name="header"></a><h1>8. Заголовки</h1>

<u>header</u> <i>( style -- )</i>
<p>Создать заголовок указанного стиля.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили заголовка
<tr><td class=st1>hds_buttons<td class=st2>
Подъэлементы заголовка будут вести себя как кнопки
<tr><td class=st1>hds_hidden<td class=st2>
Предполагается, что заголовок будет скрытым.
</table>
<table class=st>
<tr><th class=st colspan=2>Стили подъэлементов заголовка
<tr><td class=st1def>hdf_left<td class=st2>
Подъэлементы заголовка будут выравнены влево.
<tr><td class=st1>hdf_right<td class=st2>
Подъэлементы заголовка будут выравнены вправо.
<tr><td class=st1>hdf_center<td class=st2>
Подъэлементы заголовка будут выравнены по центру.
</table>

</p>

<u>add-item</u> <i>( flags text bmp param i headerctl -- )</i>
<p>Добавить новый подъэлемент заголовка. Выравнивание текста подъэлемента
устанавливается с помощью <i>flags</i>, а в дальнейшем можеть быть изменено с помощью
свойства <i>-align</i>.
</p>

<br>
<a name="tab"></a><h1>9. Закладки</h1>

<u>tabcontrol</u> <i>( style -- ctl )</i>
<p>Создает новый элемент - набор закладок. Помимо стандартных свойств,
можно использовать свойство <i>-selected</i>.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили закладок
<tr><td class=st1>tcs_buttons<td class=st2>
Подъэлементы-закладки будут вести себя как кнопки
<tr><td class=st1>tcs_fixedwidth<td class=st2>
Все закладки будут равной ширины
<tr><td class=st1>tcs_focusnever<td class=st2>
Закладки никогда не получат фокуса
<tr><td class=st1>tcs_focusonbuttondown<td class=st2>
Закладка получит фокус только при нажатии на нее
<tr><td class=st1>tcs_forceiconleft<td class=st2>
Иконки в каждой закладке будут стоять слева (только для tcs_fixedwidth)
<tr><td class=st1>tcs_forcelabelleft<td class=st2>
Заголовки будут стоять сразу рядом с иконками, выравненные по левому краю
(только для tcs_fixedwidth)
<tr><td class=st1>tcs_multiline<td class=st2>
Закладки при необходимости будут располагаться в несколько рядов
<tr><td class=st1>tcs_ownerdrawfixed<td class=st2>
Закладки должны отрисовываться родительским окном по специальному
уведомлению
<tr><td class=st1def>tcs_raggedright<td class=st2>
Закладки не будут заполнять весь ряд
<tr><td class=st1>tcs_rightjustify<td class=st2>
Ширина закладок будет увеличена так, чтобы они заполняли весь ряд
<tr><td class=st1def>tcs_singleline<td class=st2>
Закладки будут выставлены в один ряд
<tr><td class=st1def>tcs_tabs<td class=st2>
Подъэлементы будут отрисовываться как закладки, а весь ряд будет обведен
рамкой
<tr><td class=st1>tcs_tooltip<td class=st2>
С каждой закладкой будет связано всплывающее окошко
</table>
<br>

<u>add-item</u> <i>( grid text image i ctl -- )</i>
<p>Добавить новый подъэлемент-закладку. <i>grid</i> - сетка, которая будет
показываться на соответствующей странице закладки, <i>text</i> - название закладки,
<i>image</i> - номер иконки закладки в ее списке картинок, <i>i</i> -
номер закладки.
</p>

<u>switch-tab</u> <i>( i tab -- )</i>
<p>
Сделать активной вкладку <i>i</i>.
</p>

<br>
<a name="toolbar"></a><h1>10. Панели инструментов</h1>

<u>toolbar</u> <i>( style -- ctl)</i>
<p>Создать панель инструментов указанного стиля. Как правило, удобнее
пользоваться словом <u>create-toolbar</u>.
</p>

<u>create-toolbar</u> <i>( style win -- )</i>
<p>Создать безымянную панель инструментов и присоединить ее к указанному
окну. У окна может быть только одна панель вверху. Она доступна через
свойство окна <i>-toolbar</i>.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили панелей инструментов
<tr><td class=st1>tbstyle_altdrag<td class=st2>
Кнопки панели можно будет перетягивать при нажатой клавише Alt
<tr><td class=st1>tbstyle_tooltips<td class=st2>
С кнопками будут связаны всплывающие окошки
<tr><td class=st1>tbstyle_wrapable<td class=st2>
Кнопки панели можно будет ставить в несколько рядов
<tr><td class=st1>tbstyle_flat<td class=st2>
"Плоский" стиль: кнопки и сама панель прозрачны
<tr><td class=st1>tbstyle_list<td class=st2>
"Плоская" панель с надписями справа от иконки
<tr><td class=st1>tbstyle_transparent<td class=st2>
Панель будет прозрачной, а кнопки на ней - нет
</table>

<table class=st>
<tr><th class=st colspan=2>Стили кнопок на панели инструментов
<tr><td class=st1>btns_autosize<td class=st2>
Размер кнопки не фиксируется, а высчитывается по ее картинке и тексту
<tr><td class=st1>btns_button<td class=st2>
Обычная кнопка
<tr><td class=st1>btns_dropdown<td class=st2>
Кнопка со стрелкой справа. Стрелка отделена от основной кнопки
<tr><td class=st1>btns_wholedropdown<td class=st2>
Кнопка со стрелкой справа
<tr><td class=st1>btns_showtext<td class=st2>
На кнопке будет показываться текст
<tr><td class=st1>btns_noprefix<td class=st2>
Текст на кнопке не будет сопровождаться префиксом быстрой клавиши
<tr><td class=st1>btns_check<td class=st2>
Кнопка с двумя состояниями нажата/не нажата
<tr><td class=st1>btns_checkgroup<td class=st2>
Радиокнопка. Может быть нажата только одна кнопка из группы
</table>

</p>

<u>toolbar-sizes</u> <i>( buttw butth imagew imageh ctl -- )</i>
<p>Задает нестандартный размер кнопок панели (<i>buttw</i>, <i>butth</i>)
и изображений на кнопках (<i>imagew</i>, <i>imageh</i>). Работает, только если на панели нет еще ни одной кнопки.
</p>

<u>add-item</u> <i>( text image style proc n ctl -- )</i>
<p>Добавить новую кнопку в панель инструментов. У каждой кнопки могут быть
свои стили, типичные из которых - tbstyle_button и tbstyle_dropdown. <i>proc</i> - процедура, которая будет вызвана при нажатии
кнопки. <i>n</i> - в отличие от других контейнеров, не номер подъэлемента,
а его произвольный индекс. Он задается программистом и служит для отличия
одного подъэлемента от другого. У подъэлементов панели инструментов есть
лишнее свойство <i>-istate</i> - состояние кнопки (нажата, выбрана и др.).
</p>

<u>separate</u> <i>( ctl -- )</i>
<p>Добавить на панель разделитель кнопок.
</p>

<u>add-std-bitmap</u> <i>( id ctl -- n )</i>
<p>Загрузить в панель стандартный набор картинок <i>id</i>. Возвращается
номер первой загруженной картинки во внутреннем списке панели.
</p>

<u>add-res-bitmaps</u> <i>( cnt id ctl -- n)</i>
<p>Загрузить <i>cnt</i> из ресурса с номером <i>id</i>. Возвращается номер
первой загруженной картинки во внутреннем списке панели. Ресурсы должны
быть в формате BMP, 8-битовые, со стандартной системной палитрой (в
Фотошопе называется System (Windows), нулевой цвет в палитре считается
прозрачным.
</p>

У панели инструментов не один список картинок, а целых три:
<i>what</i> - код списка: 0 - обычные картинки, 1 - картинки, показываемые, когда на кнопку наводится курсор мыши,
2 - картинки отключенных кнопок.
</p>

<u>dropdown?</u> <i>( -- ? )</i>
<p>Если к кнопке добавлена маленькая стрелка (стиль tbstyle_dropdown), то
процедура обработки <i>-command</i> вызывается и тогда, когда нажата сама
кнопка, и тогда, когда нажата только стрелка. Различить эти случаи можно
с помощью слова <u>dropdown?</u>, возвращающего TRUE, если нажата только
стрелка. Кстати, если при обработке понадобится код кнопки, на которую
нажали (а это бывает нужно, когда одна процедура обрабатывает события от
нескольких кнопок сразу), узнать его можно следующим образом:
<code>
dropdown? IF wparam ELSE lparam @ THEN
</code>
</p>

<br>
<a name="tree"></a><h1>11. Деревья</h1>

<u>treeview</u> <i>( style -- ctl )</i>
<p>Создает элемент-дерево указанного стиля.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили деревьев
<tr><td class=st1>tvs_haslines<td class=st2>
Листья будут соединены линиями с родителем
<tr><td class=st1>tvs_linesatroot<td class=st2>
Листья будут соединены линиями с корнем дерева
<tr><td class=st1>tvs_hasbuttons<td class=st2>
К ветвям будет добавлена кнопка "свернуть/развернуть"
<tr><td class=st1>tvs_editlabels<td class=st2>
Можно будет менять заголовки листьев
<tr><td class=st1>tvs_showselalways<td class=st2>
Выбранный подъэлемент останется выделенным, даже если дерево потеряет
фокус
</table>
</p>

<u>add-item</u> <i>( text image selectimage param after parent ctl -- hitem )</i>
<p>Добавляет новый подъэлемент к дереву как ветвь подъэлемента
<i>parent</i>, стоящую после подъэлемента <i>after</i>. Если родитель
равен 0, подъэлемент добавляется в корень дерева. <i>after</i> может быть
обозначено константами tvi_first - добавить первым, tvi_last - добавить
последним, tvi_sort - добавить в порядке сортировки. <i>selectimage</i> -
рисунок выбранного элемента. Возвращает дескриптор, который следует
использовать для доступа к созданному подъэлементу.
</p>

<u>walk-tree</u> <i>( proc from ctl -- )</i>
<p>Обойти поддерево, начиная с ветви <i>from</i>. Для каждого подъэлемента
будет вызвана процедура <i>proc ( child ctl -- )</i>.
</p>

<br>
<a name="listview"></a><h1>12. Списки иконок</h1>

<u>listview</u> <i>( style -- ctl )</i>
<p>Создает новый элемент - список иконок. Свойство <i>-command</i> будет
вызываться при получении сообщения <i>lvn_columnclick</i>.
</p>

<table class=st>
<tr><th class=st colspan=2>Стили списков иконок
<tr><td class=st1>lvs_alignleft<td class=st2>
В режимах "значки" и "маленькие значки" иконки будут выравнены по левому
края окна
<tr><td class=st1>lvs_aligntop<td class=st2>
В режимах "значки" и "маленькие значки" иконки будут выравнены по верхнему
края окна
<tr><td class=st1>lvs_autoarrange<td class=st2>
В режимах "значки" и "маленькие значки" иконки будут выравниваться
автоматически
<tr><td class=st1>lvs_editlabels<td class=st2>
Можно будет редактировать подписи под иконками
<tr><td class=st1def>lvs_icon<td class=st2>
Режим "значки"
<tr><td class=st1>lvs_smallicon<td class=st2>
Режим "маленькие значки"
<tr><td class=st1>lvs_list<td class=st2>
Режим "список"
<tr><td class=st1>lvs_report<td class=st2>
Режим "таблица"
<tr><td class=st1>lvs_nocolumnheader<td class=st2>
В режиме "таблица" не будет показываться заголовок
<tr><td class=st1>lvs_nolabelwrap<td class=st2>
В режиме "значки" подпись под иконкой будет занимать только одну строку
<tr><td class=st1>lvs_noscroll<td class=st2>
Запрещает прокрутку иконок в окне
<tr><td class=st1>lvs_nosortheader<td class=st2>
Заголовки колонок не будут работать как кнопки
<tr><td class=st1>lvs_ownerdrawfixed<td class=st2>
Отрисовка элементов возлагается на родительское окно (только режим
"таблица")
<tr><td class=st1>lvs_shareimagelist<td class=st2>
Используемый список картинок не будет уничтожаться при уничтожении списка
иконок
<tr><td class=st1>lvs_showselalways<td class=st2>
Всегда показывать выбранный подъэлемент, даже если список потерял фокус
<tr><td class=st1>lvs_singlesel<td class=st2>
Может быть выбран только один подъэлемент
<tr><td class=st1>lvs_sortascending<td class=st2>
Подъэлементы будут автоматически сортироваться по подписям
<tr><td class=st1>lvs_sortdescending<td class=st2>
Подъэлементы будут автоматически сортироваться по подписям в обратном
порядке
</table>
</p>

<u>add-item</u> <i>( text image param ctl -- )</i>
<p>Добавляет новый подъэлемент к списку иконок.
</p>

<u>prepare-listview</u> <i>( n ctl -- )</i>
<p>Подготавливает список к приему <i>n</i> дополнительных подъэлементов.
Повышает эффективность <u>add-item</u>.
</p>

<u>clear-listview</u> <i>( ctl -- )</i>
<p>Очищает список, удаляя из него все элементы.
</p>

<u>arrange-listview</u> <i>( type ctl -- )</i>
<p>Выравнивает иконки в пределах элемента. Возможные значения
выравнивания: lva_alignleft - по левому краю окна, lva_aligntop - по
верхнему краю окна, lva_default - согласно текущей настройке,
lva_snaptogrid - по ближайшему узлу сетки элемента.
</p>

<u>icon-view</u>, <u>smallicon-view</u>, <u>list-view</u>, <u>report-view</u> <i>( ctl -- )</i>
<p>Переключает список иконок в различные режимы отображения: "крупные
значки", "мелкие значки", "список", "таблица".
</p>

<i>-selected ( -- n) </i>
<p>Свойство возвращает информацию о выделенных элементах: -1 - не выделено
ничего; >-1 - индекс выделенного подъэлемента; <-1 - число (по модулю)
выделенных подъэлементов.
</p>

<u>walk-selected</u> <i>( xt ctl -- )</i>
<p>Обходит все выбранные подъэлементы, вызывая для каждого <i>xt ( i -- )</i>
</p>

<u>lv-param>i</u> <i>( param ctl -- i/-1)</i>
<p>Находит индекс подъэлемента по его параметру.
</p>

<a name="lvcolumns"></a><h2>Колонки</h2>

У каждого подъэлемента списка иконок могут быть дополнительные значения,
которые можно увидеть в многоколоночном режиме "таблица". Доступ к этим
значениям (а это обыкновенные строки) выполняется через свойство
<i>-isubitem</i>: <u>-isubitem@</u> <i>( addr i subitemno ctl -- )</i>,
<u>-isubitem!</u> <i>( z i subitemno ctl -- )</i>
</p>
<br><br>

<u>add-column</u> <i>( text subitem i ctl -- )</i>
<p>Добавляет <i>i</i>-тую колонку, присваивая ей значение <i>subitem</i>.
Доступ к настройкам колонки осуществляется через свойства <i>-ctext,
-cflags, -cwidth, csubitem, -cimage, -corder</i>
</p>

<u>del-column</u> <i>( i ctl -- )</i>
<p>Удалить <i>i</i>-тую колонку.
</p>

<code>
<a href="prog/winlib/wincc-example.f"><img src="pic/spf.gif"></a>
Пример работы с общими элементами управления
</code>

</html>
